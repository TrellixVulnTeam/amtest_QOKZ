{"ast":null,"code":"import { BUSCAR_PERS, BUSCAR_PERS_ERROR, BUSCAR_PERS_SUCCESS, BUSCAR_PERS_JSONFILE, SET_FAVORITE, REMOVE_FAVORITE, ADD_CHARACTER, ADD_CHARACTER_SUCCESS, ADD_CHARACTER_ERROR } from \"../types\"; //state\n\nconst initialState = {\n  pers: [],\n  favcount: 0,\n  perscount: 0,\n  error: null,\n  loading: false\n};\nexport default function reduxState(state = initialState, action) {\n  switch (action.type) {\n    case BUSCAR_PERS:\n    case ADD_CHARACTER:\n      return { ...state,\n        loading: true\n      };\n\n    case BUSCAR_PERS_SUCCESS:\n      return { ...state,\n        pers: [...state.pers, ...action.payload],\n        loading: false,\n        perscount: state.perscount + action.payload.length\n      };\n\n    case BUSCAR_PERS_JSONFILE:\n      return { ...state,\n        pers: [...state.pers, ...action.payload],\n        perscount: state.perscount + action.payload.length\n      };\n\n    case BUSCAR_PERS_ERROR:\n    case ADD_CHARACTER_ERROR:\n      return { ...state,\n        error: action.payload,\n        loading: false\n      };\n\n    case SET_FAVORITE:\n      return { ...state,\n        pers: state.pers.map((per, i) => per.id === action.payload.id ? { ...per,\n          favorite: action.payload.value\n        } : per),\n        favcount: action.payload.value ? state.favcount + 1 : state.favcount - 1\n      };\n\n    case REMOVE_FAVORITE:\n      return { ...state,\n        pers: state.pers.map((per, i) => per.id === action.payload ? { ...per,\n          favorite: false\n        } : per),\n        favcount: state.favcount - 1\n      };\n\n    case ADD_CHARACTER_SUCCESS:\n      return { ...state,\n        pers: [...state.pers, action.payload],\n        loading: false,\n        perscount: state.perscount + 1\n      };\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/Users/gilberto/projects/am-test/src/reducers/persReducer.js"],"names":["BUSCAR_PERS","BUSCAR_PERS_ERROR","BUSCAR_PERS_SUCCESS","BUSCAR_PERS_JSONFILE","SET_FAVORITE","REMOVE_FAVORITE","ADD_CHARACTER","ADD_CHARACTER_SUCCESS","ADD_CHARACTER_ERROR","initialState","pers","favcount","perscount","error","loading","reduxState","state","action","type","payload","length","map","per","i","id","favorite","value"],"mappings":"AAAA,SACCA,WADD,EAECC,iBAFD,EAGCC,mBAHD,EAICC,oBAJD,EAKCC,YALD,EAMCC,eAND,EAOCC,aAPD,EAQCC,qBARD,EASCC,mBATD,QAUO,UAVP,C,CAYA;;AACA,MAAMC,YAAY,GAAG;AACpBC,EAAAA,IAAI,EAAE,EADc;AAEpBC,EAAAA,QAAQ,EAAE,CAFU;AAGpBC,EAAAA,SAAS,EAAE,CAHS;AAIpBC,EAAAA,KAAK,EAAE,IAJa;AAKpBC,EAAAA,OAAO,EAAE;AALW,CAArB;AAQA,eAAe,SAASC,UAAT,CAAoBC,KAAK,GAAGP,YAA5B,EAA0CQ,MAA1C,EAAkD;AAChE,UAAQA,MAAM,CAACC,IAAf;AACC,SAAKlB,WAAL;AACA,SAAKM,aAAL;AACC,aAAO,EACN,GAAGU,KADG;AAENF,QAAAA,OAAO,EAAE;AAFH,OAAP;;AAID,SAAKZ,mBAAL;AACC,aAAO,EACN,GAAGc,KADG;AAENN,QAAAA,IAAI,EAAE,CAAC,GAAGM,KAAK,CAACN,IAAV,EAAgB,GAAGO,MAAM,CAACE,OAA1B,CAFA;AAGNL,QAAAA,OAAO,EAAE,KAHH;AAINF,QAAAA,SAAS,EAAEI,KAAK,CAACJ,SAAN,GAAkBK,MAAM,CAACE,OAAP,CAAeC;AAJtC,OAAP;;AAMD,SAAKjB,oBAAL;AACC,aAAO,EACN,GAAGa,KADG;AAENN,QAAAA,IAAI,EAAE,CAAC,GAAGM,KAAK,CAACN,IAAV,EAAgB,GAAGO,MAAM,CAACE,OAA1B,CAFA;AAGNP,QAAAA,SAAS,EAAEI,KAAK,CAACJ,SAAN,GAAkBK,MAAM,CAACE,OAAP,CAAeC;AAHtC,OAAP;;AAKD,SAAKnB,iBAAL;AACA,SAAKO,mBAAL;AACC,aAAO,EACN,GAAGQ,KADG;AAENH,QAAAA,KAAK,EAAEI,MAAM,CAACE,OAFR;AAGNL,QAAAA,OAAO,EAAE;AAHH,OAAP;;AAKD,SAAKV,YAAL;AACC,aAAO,EACN,GAAGY,KADG;AAENN,QAAAA,IAAI,EAAEM,KAAK,CAACN,IAAN,CAAWW,GAAX,CAAe,CAACC,GAAD,EAAMC,CAAN,KACpBD,GAAG,CAACE,EAAJ,KAAWP,MAAM,CAACE,OAAP,CAAeK,EAA1B,GACG,EAAE,GAAGF,GAAL;AAAUG,UAAAA,QAAQ,EAAER,MAAM,CAACE,OAAP,CAAeO;AAAnC,SADH,GAEGJ,GAHE,CAFA;AAONX,QAAAA,QAAQ,EAAEM,MAAM,CAACE,OAAP,CAAeO,KAAf,GACPV,KAAK,CAACL,QAAN,GAAiB,CADV,GAEPK,KAAK,CAACL,QAAN,GAAiB;AATd,OAAP;;AAWD,SAAKN,eAAL;AACC,aAAO,EACN,GAAGW,KADG;AAENN,QAAAA,IAAI,EAAEM,KAAK,CAACN,IAAN,CAAWW,GAAX,CAAe,CAACC,GAAD,EAAMC,CAAN,KACpBD,GAAG,CAACE,EAAJ,KAAWP,MAAM,CAACE,OAAlB,GAA4B,EAAE,GAAGG,GAAL;AAAUG,UAAAA,QAAQ,EAAE;AAApB,SAA5B,GAA0DH,GADrD,CAFA;AAKNX,QAAAA,QAAQ,EAAEK,KAAK,CAACL,QAAN,GAAiB;AALrB,OAAP;;AAOD,SAAKJ,qBAAL;AACC,aAAO,EACN,GAAGS,KADG;AAENN,QAAAA,IAAI,EAAE,CAAC,GAAGM,KAAK,CAACN,IAAV,EAAgBO,MAAM,CAACE,OAAvB,CAFA;AAGNL,QAAAA,OAAO,EAAE,KAHH;AAINF,QAAAA,SAAS,EAAEI,KAAK,CAACJ,SAAN,GAAkB;AAJvB,OAAP;;AAMD;AACC,aAAOI,KAAP;AAvDF;AAyDA","sourcesContent":["import {\n\tBUSCAR_PERS,\n\tBUSCAR_PERS_ERROR,\n\tBUSCAR_PERS_SUCCESS,\n\tBUSCAR_PERS_JSONFILE,\n\tSET_FAVORITE,\n\tREMOVE_FAVORITE,\n\tADD_CHARACTER,\n\tADD_CHARACTER_SUCCESS,\n\tADD_CHARACTER_ERROR,\n} from \"../types\";\n\n//state\nconst initialState = {\n\tpers: [],\n\tfavcount: 0,\n\tperscount: 0,\n\terror: null,\n\tloading: false,\n};\n\nexport default function reduxState(state = initialState, action) {\n\tswitch (action.type) {\n\t\tcase BUSCAR_PERS:\n\t\tcase ADD_CHARACTER:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloading: true,\n\t\t\t};\n\t\tcase BUSCAR_PERS_SUCCESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpers: [...state.pers, ...action.payload],\n\t\t\t\tloading: false,\n\t\t\t\tperscount: state.perscount + action.payload.length,\n\t\t\t};\n\t\tcase BUSCAR_PERS_JSONFILE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpers: [...state.pers, ...action.payload],\n\t\t\t\tperscount: state.perscount + action.payload.length,\n\t\t\t};\n\t\tcase BUSCAR_PERS_ERROR:\n\t\tcase ADD_CHARACTER_ERROR:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\terror: action.payload,\n\t\t\t\tloading: false,\n\t\t\t};\n\t\tcase SET_FAVORITE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpers: state.pers.map((per, i) =>\n\t\t\t\t\tper.id === action.payload.id\n\t\t\t\t\t\t? { ...per, favorite: action.payload.value }\n\t\t\t\t\t\t: per\n\t\t\t\t),\n\t\t\t\tfavcount: action.payload.value\n\t\t\t\t\t? state.favcount + 1\n\t\t\t\t\t: state.favcount - 1,\n\t\t\t};\n\t\tcase REMOVE_FAVORITE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpers: state.pers.map((per, i) =>\n\t\t\t\t\tper.id === action.payload ? { ...per, favorite: false } : per\n\t\t\t\t),\n\t\t\t\tfavcount: state.favcount - 1,\n\t\t\t};\n\t\tcase ADD_CHARACTER_SUCCESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpers: [...state.pers, action.payload],\n\t\t\t\tloading: false,\n\t\t\t\tperscount: state.perscount + 1,\n\t\t\t};\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}